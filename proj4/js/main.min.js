function truncate(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function clickKeyButton(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1,element.childNodes[0].data.length<old_value.length?(element.innerHTML=old_value,show_text.innerHTML="скрыть текст"):(element.innerHTML=new_value,show_text.innerHTML="прочитать полностью")}var element=document.querySelector(".one_collaps"),old_value=element.childNodes[0].data,new_value=truncate(element.childNodes[0].data,316),dist_link=document.querySelector(".article__link-all-text"),show_text=dist_link.querySelector("span");element.innerHTML=new_value,addEvent(dist_link,"click",clickKeyButton),$(".product__link-color").click(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(".product__box-img img"),l=$(".product__link-color i"),i=$('<img src="'+t+'">');i.hide(),$(".product__box-img").prepend(i),i.fadeIn(2e3),$(this).prepend('<i class="fa fa-check"></i>'),n.remove(),l.remove()}),$(".product__link-color:first").click();